periodics:
  - name: periodic-publish-kubemacpool-flakefinder-weekly-report
    cron: "50 0 * * *"
    decorate: true
    spec:
      nodeSelector:
        type: vm
        zone: ci
      containers:
        - image: index.docker.io/kubevirtci/flakefinder@sha256:76bc7808037b8f04dea9a783a85b9abf62dce6c26b63c3e0b4145d0033450de9
          env:
            - name: GOOGLE_APPLICATION_CREDENTIALS
              value: /etc/gcs/service-account.json
          command:
            - "/app/robots/flakefinder/app.binary"
          args:
            - --dry-run=false
            - --token=/etc/github/oauth
            - --merged=168h
            - --report_output_child_path=k8snetworkplumbingwg/kubemacpool
            - --org=k8snetworkplumbingwg
            - --repo=kubemacpool
          volumeMounts:
            - name: token
              mountPath: /etc/github
            - name: gcs
              mountPath: /etc/gcs
              readOnly: true
      volumes:
        - name: token
          secret:
            secretName: oauth-token
        - name: gcs
          secret:
            secretName: gcs
  - name: periodic-publish-kubemacpool-flakefinder-daily-report
    cron: "30 0 * * *"
    decorate: true
    spec:
      nodeSelector:
        type: vm
        zone: ci
      containers:
        - image: index.docker.io/kubevirtci/flakefinder@sha256:76bc7808037b8f04dea9a783a85b9abf62dce6c26b63c3e0b4145d0033450de9
          env:
            - name: GOOGLE_APPLICATION_CREDENTIALS
              value: /etc/gcs/service-account.json
          command:
            - "/app/robots/flakefinder/app.binary"
          args:
            - --dry-run=false
            - --token=/etc/github/oauth
            - --merged=24h
            - --report_output_child_path=k8snetworkplumbingwg/kubemacpool
            - --org=k8snetworkplumbingwg
            - --repo=kubemacpool
          volumeMounts:
            - name: token
              mountPath: /etc/github
            - name: gcs
              mountPath: /etc/gcs
              readOnly: true
      volumes:
        - name: token
          secret:
            secretName: oauth-token
        - name: gcs
          secret:
            secretName: gcs
  - name: periodic-publish-kubemacpool-flakefinder-four-weekly-report
    interval: 168h
    decorate: true
    spec:
      nodeSelector:
        type: vm
        zone: ci
      containers:
        - image: index.docker.io/kubevirtci/flakefinder@sha256:76bc7808037b8f04dea9a783a85b9abf62dce6c26b63c3e0b4145d0033450de9
          env:
            - name: GOOGLE_APPLICATION_CREDENTIALS
              value: /etc/gcs/service-account.json
          command:
            - "/app/robots/flakefinder/app.binary"
          args:
            - --dry-run=false
            - --token=/etc/github/oauth
            - --merged=672h
            - --report_output_child_path=k8snetworkplumbingwg/kubemacpool
            - --org=k8snetworkplumbingwg
            - --repo=kubemacpool
          volumeMounts:
            - name: token
              mountPath: /etc/github
            - name: gcs
              mountPath: /etc/gcs
              readOnly: true
      volumes:
        - name: token
          secret:
            secretName: oauth-token
        - name: gcs
          secret:
            secretName: gcs
